<html>
    <head>
        <title>Parser test</title>
        <style>
            #input { width:100%; height:75%; }
            textarea { width:100%; height:100%; }
        </style>
    </head>
    <body>
        <div id="input">
            <textarea id="text"></textarea>
        </div>
        <div id="output">

        </div>
        <script src="../public/js/jquery-1.7.2.min.js"></script>
        <script>
            var module = { exports:{} };
        </script>
        <script src="../peg/git-status.js"></script>
        <script>
            var parse = module.exports.parse;

            $(function() {
                $("#text").on("keyup", function() {
                    var val = $(this).val();

                    try {
                        var res = parse(val);
                        $("#output").text(JSON.stringify(res));
                    }
                    catch (exc) {
                        $("#output").text(exc);
                    }
                });
            });
        </script>
    </body>
</html>